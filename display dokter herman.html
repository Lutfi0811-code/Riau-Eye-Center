<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Riau Eye Center Queue
  </title>
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="css/display-herman.css" />
  <style>
   @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap');
   body {
  font-family: 'Montserrat', Arial, sans-serif;
  background: #a81a1a;
  margin: 0;
  min-height: 100vh;
  color: #222;
}

.max-w-6xl {
  margin: 32px auto;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.13);
  overflow: hidden;
  position: relative;
}

header, .header {
  padding: 32px 32px 16px 32px;
  background: linear-gradient(90deg, #a81a1a 80%, #cda56f 100%);
  border-radius: 18px 18px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1, .header h1 {
  color: #fff;
  font-size: 2.2rem;
  font-weight: 800;
  margin-bottom: 0.3rem;
  text-decoration: underline 3px #fff;
}

header p, .header p {
  color: #fff;
  font-size: 1rem;
  margin: 0;
}

header img, .header img {
  width: 120px;
  height: 80px;
  object-fit: contain;
  margin-bottom: 0.3rem;
}

header .text-sm, .header .text-sm {
  font-size: 0.95rem;
  letter-spacing: 0.12em;
}

.flex {
  display: flex;
}

.flex-col {
  flex-direction: column;
}

.md\:flex-row {
  flex-direction: row;
}

.gap-6 {
  gap: 1.5rem;
}

.px-8 {
  padding-left: 2rem;
  padding-right: 2rem;
}

.pb-8 {
  padding-bottom: 2rem;
}

.flex-1 {
  flex: 1;
}

.bg-\[\#cda56f\] {
  background: #cda56f;
}

.rounded-md {
  border-radius: 12px;
}

.border {
  border: 1.5px solid #fff;
}

.p-6 {
  padding: 1.5rem;
}

.text-2xl {
  font-size: 1.5rem;
}

.font-extrabold {
  font-weight: 800;
}

.text-black {
  color: #222;
}

.text-center {
  text-align: center;
}

.mb-2 {
  margin-bottom: 0.7rem;
}

.text-7xl {
  font-size: 4rem;
}

.leading-none {
  line-height: 1;
}

.text-xl {
  font-size: 1.2rem;
}

.bg-\[\#e9d9c4\] {
  background: #e9d9c4;
}

.rounded-full {
  border-radius: 999px;
}

.inline-block {
  display: inline-block;
}

.px-6 {
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

.py-2 {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

.text-lg {
  font-size: 1.1rem;
}

.mb-4 {
  margin-bottom: 1rem;
}

.space-y-3 > :not([hidden]) ~ :not([hidden]) {
  margin-top: 0.75rem;
}

.font-semibold {
  font-weight: 600;
}

.flex.items-center {
  display: flex;
  align-items: center;
}

.gap-4 {
  gap: 1rem;
}

.w-10, .h-10 {
  width: 2.5rem;
  height: 2.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 1.2rem;
  background: #e9d9c4;
  color: #7a4a13;
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  padding: 0;
  margin: 0;
  line-height: 1;
}

.object-contain {
  object-fit: contain;
}

.object-cover {
  object-fit: cover;
}

.max-h-\[500px\] {
  max-height: 500px;
}

.w-full {
  width: 100%;
}

.max-w-\[400px\] {
  max-width: 400px;
}

@media (max-width: 900px) {
  .flex-col, .md\:flex-row {
    flex-direction: column !important;
  }
  .px-8 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .pb-8 {
    padding-bottom: 1rem;
  }
  header, .header {
    flex-direction: column;
    gap: 1rem;
    padding: 2rem 1rem 1rem 1rem;
    text-align: center;
  }
}
  </style>
 </head>
 <body class="bg-[#a81a1a] min-h-screen flex justify-center items-center p-4">
  <div class="max-w-6xl w-full relative rounded-md overflow-hidden">
    <!-- Logo di sudut kanan atas -->
    <div style="position:absolute;top:24px;right:32px;z-index:10;text-align:center;">
      <img alt="Logo Riau Eye Center" style="width:110px;height:70px;object-fit:contain;" src="RIAU EYE CENTER.jpg"/>
      <div style="color:#fff;font-size:0.95rem;font-family:serif;letter-spacing:0.12em;font-weight:bold;">RIAU EYE CENTER</div>
    </div>
    <!-- Header -->
    <div class="flex justify-between items-center px-8 py-6" style="position:relative;z-index:1;">
      <div class="text-white font-extrabold font-montserrat leading-none">
        <h1 class="text-4xl underline decoration-white decoration-4 decoration-solid">
          dr. Herman, Sp.M
        </h1>
        <p class="text-sm font-bold mt-1">
          Katarak, Vitreoretina, dan Penyakit Mata Umum
        </p>
      </div>
    </div>
    <!-- Main content -->
    <div class="flex flex-col md:flex-row gap-6 px-8 pb-8">
    <!-- Left side queue info -->
    <div class="flex flex-col gap-6 flex-1">
     <!-- Current queue -->
     <div class="bg-[#cda56f] rounded-md border border-white p-6">
      <h2 class="text-2xl font-extrabold text-black text-center mb-2">
       Antrian Saat Ini
      </h2>
      <p class="text-7xl font-extrabold text-black text-center leading-none mb-2">
       1
      </p>
      <p class="text-xl font-extrabold text-black text-center">
       Ny. Sri Wahyu Gusti F
      </p>
     </div>
     <!-- Waiting list -->
     <div class="bg-[#cda56f] rounded-md border border-white p-6">
      <h3 class="bg-[#e9d9c4] rounded-full inline-block px-6 py-2 font-extrabold text-black text-lg mb-4">
       Daftar Tunggu
      </h3>
      <ul class="space-y-3 text-black font-semibold text-lg">
       <li class="flex items-center gap-4">
        <span class="bg-[#e9d9c4] rounded-full w-10 h-10 flex justify-center items-center font-extrabold text-black text-xl">2</span>
        Syahda Mutiara D
       </li>
       <li class="flex items-center gap-4">
        <span class="bg-[#e9d9c4] rounded-full w-10 h-10 flex justify-center items-center font-extrabold text-black text-xl">3</span>
        Ahmad Waluyo
       </li>
       <li class="flex items-center gap-4">
        <span class="bg-[#e9d9c4] rounded-full w-10 h-10 flex justify-center items-center font-extrabold text-black text-xl">4</span>
        Fauzi Saputra
       </li>
      </ul>
     </div>
    </div>
    <!-- Right side image -->
    <div class="flex-1 flex justify-center items-center">
      <img alt="Foto dokter Herman" class="rounded-md object-cover max-h-[500px] w-full max-w-[400px]" height="500" src="dokter herman.jpg" width="400"/>
    </div>
   </div>
  </div>
  <script>
    function renderDisplayHerman() {
      const queue = JSON.parse(localStorage.getItem("queueHerman") || "[]");
      // Tampilkan antrian saat ini
      document.querySelector(".text-7xl").textContent = queue[0] ? queue[0].number : "-";
      document.querySelector(".text-xl.font-extrabold.text-black.text-center").textContent = queue[0] ? queue[0].name : "-";
      // Tampilkan daftar tunggu
      const list = document.querySelector(".space-y-3.text-black.font-semibold.text-lg");
      list.innerHTML = "";
      queue.slice(1).forEach((p) => {
        const li = document.createElement("li");
        li.className = "flex items-center gap-4";
        li.innerHTML = `<span class="bg-[#e9d9c4] rounded-full w-10 h-10 flex justify-center items-center font-extrabold text-black text-xl">${p.number}</span> ${p.name}`;
        list.appendChild(li);
      });
    }
    renderDisplayHerman();
    window.addEventListener("storage", renderDisplayHerman); // update otomatis jika tab lain mengubah
    setInterval(renderDisplayHerman, 2000); // fallback polling
    function speakCallHerman(call) {
  if (!call || !call.number || !call.name || !call.doctor) return;
  if (!("speechSynthesis" in window)) return;
  const utterance = new SpeechSynthesisUtterance(
    `Nomor antrian ${call.number}, atas nama ${call.name}, dipersilakan masuk ke ruang ${call.doctor}.`
  );
  utterance.lang = "id-ID";
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(utterance);
}

let lastCallHerman = null;
function checkCallHerman() {
  const call = JSON.parse(localStorage.getItem("callHerman") || "null");
  if (call && (!lastCallHerman || call.number !== lastCallHerman.number)) {
    speakCallHerman(call);
    lastCallHerman = call;
  }
}
setInterval(checkCallHerman, 1000);
  </script>
 </body>
</html>
